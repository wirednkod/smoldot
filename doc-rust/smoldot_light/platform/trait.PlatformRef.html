<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Access to a platform’s capabilities."><title>PlatformRef in smoldot_light::platform - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-ba5701c5741a7b69.css" id="mainThemeStyle"><div id="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="smoldot_light" data-themes="" data-resource-suffix="" data-rustdoc-version="1.70.0 (90c541806 2023-05-31)" data-search-js="search-e077946657036a58.js" data-settings-js="settings-298e1ea74db45b39.js" data-settings-css="settings-7bfb4c59cc6bc502.css" data-theme-light-css="light-0f8c037637f9eb3e.css" data-theme-dark-css="dark-1097f8e92a01e3cf.css" data-theme-ayu-css="ayu-614652228113ac93.css" ></div><script src="../../static.files/storage-62ce34ea385b278a.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-f61008743c98d196.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../../static.files/light-0f8c037637f9eb3e.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../../static.files/dark-1097f8e92a01e3cf.css"><link rel="stylesheet" href="../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../smoldot_light/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../../smoldot_light/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">PlatformRef</a></h2><div class="sidebar-elems"><section><h3><a href="#required-associated-types">Required Associated Types</a></h3><ul class="block"><li><a href="#associatedtype.ConnectFuture">ConnectFuture</a></li><li><a href="#associatedtype.Connection">Connection</a></li><li><a href="#associatedtype.Delay">Delay</a></li><li><a href="#associatedtype.Instant">Instant</a></li><li><a href="#associatedtype.NextSubstreamFuture">NextSubstreamFuture</a></li><li><a href="#associatedtype.Stream">Stream</a></li><li><a href="#associatedtype.StreamUpdateFuture">StreamUpdateFuture</a></li><li><a href="#associatedtype.Yield">Yield</a></li></ul><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.advance_read_cursor">advance_read_cursor</a></li><li><a href="#tymethod.client_name">client_name</a></li><li><a href="#tymethod.client_version">client_version</a></li><li><a href="#tymethod.close_send">close_send</a></li><li><a href="#tymethod.connect">connect</a></li><li><a href="#tymethod.next_substream">next_substream</a></li><li><a href="#tymethod.now">now</a></li><li><a href="#tymethod.now_from_unix_epoch">now_from_unix_epoch</a></li><li><a href="#tymethod.open_out_substream">open_out_substream</a></li><li><a href="#tymethod.read_buffer">read_buffer</a></li><li><a href="#tymethod.send">send</a></li><li><a href="#tymethod.sleep">sleep</a></li><li><a href="#tymethod.sleep_until">sleep_until</a></li><li><a href="#tymethod.spawn_task">spawn_task</a></li><li><a href="#tymethod.update_stream">update_stream</a></li><li><a href="#tymethod.writable_bytes">writable_bytes</a></li><li><a href="#tymethod.yield_after_cpu_intensive">yield_after_cpu_intensive</a></li></ul><h3><a href="#foreign-impls">Implementations on Foreign Types</a></h3><ul class="block"><li><a href="#impl-PlatformRef-for-Arc%3CDefaultPlatform%3E">Arc&lt;DefaultPlatform&gt;</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In smoldot_light::platform</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="../index.html">smoldot_light</a>::<wbr><a href="index.html">platform</a>::<wbr><a class="trait" href="#">PlatformRef</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../src/smoldot_light/platform.rs.html#29-213">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub trait PlatformRef: <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'static {
    type <a href="#associatedtype.Delay" class="associatedtype">Delay</a>: <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.unit.html">()</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'static;
    type <a href="#associatedtype.Yield" class="associatedtype">Yield</a>: <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.unit.html">()</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'static;
    type <a href="#associatedtype.Instant" class="associatedtype">Instant</a>: <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/ops/arith/trait.Add.html" title="trait core::ops::arith::Add">Add</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.70.0/core/time/struct.Duration.html" title="struct core::time::Duration">Duration</a>, Output = Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Instant" title="type smoldot_light::platform::PlatformRef::Instant">Instant</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/ops/arith/trait.Sub.html" title="trait core::ops::arith::Sub">Sub</a>&lt;Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Instant" title="type smoldot_light::platform::PlatformRef::Instant">Instant</a>, Output = <a class="struct" href="https://doc.rust-lang.org/1.70.0/core/time/struct.Duration.html" title="struct core::time::Duration">Duration</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/cmp/trait.PartialOrd.html" title="trait core::cmp::PartialOrd">PartialOrd</a> + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/cmp/trait.Ord.html" title="trait core::cmp::Ord">Ord</a> + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/cmp/trait.PartialEq.html" title="trait core::cmp::PartialEq">PartialEq</a> + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/cmp/trait.Eq.html" title="trait core::cmp::Eq">Eq</a> + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'static;
    type <a href="#associatedtype.Connection" class="associatedtype">Connection</a>: <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'static;
    type <a href="#associatedtype.Stream" class="associatedtype">Stream</a>: <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'static;
    type <a href="#associatedtype.ConnectFuture" class="associatedtype">ConnectFuture</a>: <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.70.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="enum.PlatformConnection.html" title="enum smoldot_light::platform::PlatformConnection">PlatformConnection</a>&lt;Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Stream" title="type smoldot_light::platform::PlatformRef::Stream">Stream</a>, Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Connection" title="type smoldot_light::platform::PlatformRef::Connection">Connection</a>&gt;, <a class="struct" href="struct.ConnectError.html" title="struct smoldot_light::platform::ConnectError">ConnectError</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'static;
    type <a href="#associatedtype.StreamUpdateFuture" class="associatedtype">StreamUpdateFuture</a>&lt;'a&gt;: <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.unit.html">()</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'a;
    type <a href="#associatedtype.NextSubstreamFuture" class="associatedtype">NextSubstreamFuture</a>&lt;'a&gt;: <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.70.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;(Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Stream" title="type smoldot_light::platform::PlatformRef::Stream">Stream</a>, <a class="enum" href="enum.PlatformSubstreamDirection.html" title="enum smoldot_light::platform::PlatformSubstreamDirection">PlatformSubstreamDirection</a>)&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'a;

<details class="toggle type-contents-toggle"><summary class="hideme"><span>Show 17 methods</span></summary>    // Required methods
    fn <a href="#tymethod.now_from_unix_epoch" class="fn">now_from_unix_epoch</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.70.0/core/time/struct.Duration.html" title="struct core::time::Duration">Duration</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.now" class="fn">now</a>(&amp;self) -&gt; Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Instant" title="type smoldot_light::platform::PlatformRef::Instant">Instant</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.sleep" class="fn">sleep</a>(&amp;self, duration: <a class="struct" href="https://doc.rust-lang.org/1.70.0/core/time/struct.Duration.html" title="struct core::time::Duration">Duration</a>) -&gt; Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Delay" title="type smoldot_light::platform::PlatformRef::Delay">Delay</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.sleep_until" class="fn">sleep_until</a>(&amp;self, when: Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Instant" title="type smoldot_light::platform::PlatformRef::Instant">Instant</a>) -&gt; Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Delay" title="type smoldot_light::platform::PlatformRef::Delay">Delay</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.spawn_task" class="fn">spawn_task</a>(&amp;self, task_name: <a class="enum" href="https://doc.rust-lang.org/1.70.0/alloc/borrow/enum.Cow.html" title="enum alloc::borrow::Cow">Cow</a>&lt;'_, <a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.str.html">str</a>&gt;, task: BoxFuture&lt;'static, <a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.unit.html">()</a>&gt;);
<span class="item-spacer"></span>    fn <a href="#tymethod.client_name" class="fn">client_name</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.70.0/alloc/borrow/enum.Cow.html" title="enum alloc::borrow::Cow">Cow</a>&lt;'_, <a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.str.html">str</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.client_version" class="fn">client_version</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.70.0/alloc/borrow/enum.Cow.html" title="enum alloc::borrow::Cow">Cow</a>&lt;'_, <a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.str.html">str</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.yield_after_cpu_intensive" class="fn">yield_after_cpu_intensive</a>(&amp;self) -&gt; Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Yield" title="type smoldot_light::platform::PlatformRef::Yield">Yield</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.connect" class="fn">connect</a>(&amp;self, url: &amp;<a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.str.html">str</a>) -&gt; Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.ConnectFuture" title="type smoldot_light::platform::PlatformRef::ConnectFuture">ConnectFuture</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.open_out_substream" class="fn">open_out_substream</a>(&amp;self, connection: &amp;mut Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Connection" title="type smoldot_light::platform::PlatformRef::Connection">Connection</a>);
<span class="item-spacer"></span>    fn <a href="#tymethod.next_substream" class="fn">next_substream</a>&lt;'a&gt;(
        &amp;self,
        connection: &amp;'a mut Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Connection" title="type smoldot_light::platform::PlatformRef::Connection">Connection</a>
    ) -&gt; Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.NextSubstreamFuture" title="type smoldot_light::platform::PlatformRef::NextSubstreamFuture">NextSubstreamFuture</a>&lt;'a&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.update_stream" class="fn">update_stream</a>&lt;'a&gt;(
        &amp;self,
        stream: &amp;'a mut Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Stream" title="type smoldot_light::platform::PlatformRef::Stream">Stream</a>
    ) -&gt; Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.StreamUpdateFuture" title="type smoldot_light::platform::PlatformRef::StreamUpdateFuture">StreamUpdateFuture</a>&lt;'a&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.read_buffer" class="fn">read_buffer</a>&lt;'a&gt;(&amp;self, stream: &amp;'a mut Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Stream" title="type smoldot_light::platform::PlatformRef::Stream">Stream</a>) -&gt; <a class="enum" href="enum.ReadBuffer.html" title="enum smoldot_light::platform::ReadBuffer">ReadBuffer</a>&lt;'a&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.advance_read_cursor" class="fn">advance_read_cursor</a>(&amp;self, stream: &amp;mut Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Stream" title="type smoldot_light::platform::PlatformRef::Stream">Stream</a>, bytes: <a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.usize.html">usize</a>);
<span class="item-spacer"></span>    fn <a href="#tymethod.writable_bytes" class="fn">writable_bytes</a>(&amp;self, stream: &amp;mut Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Stream" title="type smoldot_light::platform::PlatformRef::Stream">Stream</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.usize.html">usize</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.send" class="fn">send</a>(&amp;self, stream: &amp;mut Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Stream" title="type smoldot_light::platform::PlatformRef::Stream">Stream</a>, data: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.u8.html">u8</a>]);
<span class="item-spacer"></span>    fn <a href="#tymethod.close_send" class="fn">close_send</a>(&amp;self, stream: &amp;mut Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Stream" title="type smoldot_light::platform::PlatformRef::Stream">Stream</a>);
</details>}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Access to a platform’s capabilities.</p>
<p>Implementations of this trait are expected to be cheaply-clonable “handles”. All clones of the
same platform share the same objects. For instance, it is legal to create clone a platform,
then create a connection on one clone, then access this connection on the other clone.</p>
</div></details><h2 id="required-associated-types" class="small-section-header">Required Associated Types<a href="#required-associated-types" class="anchor">§</a></h2><div class="methods"><section id="associatedtype.Delay" class="method"><a class="srclink rightside" href="../../src/smoldot_light/platform.rs.html#30">source</a><h4 class="code-header">type <a href="#associatedtype.Delay" class="associatedtype">Delay</a>: <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.unit.html">()</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'static</h4></section><section id="associatedtype.Yield" class="method"><a class="srclink rightside" href="../../src/smoldot_light/platform.rs.html#31">source</a><h4 class="code-header">type <a href="#associatedtype.Yield" class="associatedtype">Yield</a>: <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.unit.html">()</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'static</h4></section><section id="associatedtype.Instant" class="method"><a class="srclink rightside" href="../../src/smoldot_light/platform.rs.html#32-41">source</a><h4 class="code-header">type <a href="#associatedtype.Instant" class="associatedtype">Instant</a>: <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/ops/arith/trait.Add.html" title="trait core::ops::arith::Add">Add</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.70.0/core/time/struct.Duration.html" title="struct core::time::Duration">Duration</a>, Output = Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Instant" title="type smoldot_light::platform::PlatformRef::Instant">Instant</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/ops/arith/trait.Sub.html" title="trait core::ops::arith::Sub">Sub</a>&lt;Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Instant" title="type smoldot_light::platform::PlatformRef::Instant">Instant</a>, Output = <a class="struct" href="https://doc.rust-lang.org/1.70.0/core/time/struct.Duration.html" title="struct core::time::Duration">Duration</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/cmp/trait.PartialOrd.html" title="trait core::cmp::PartialOrd">PartialOrd</a> + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/cmp/trait.Ord.html" title="trait core::cmp::Ord">Ord</a> + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/cmp/trait.PartialEq.html" title="trait core::cmp::PartialEq">PartialEq</a> + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/cmp/trait.Eq.html" title="trait core::cmp::Eq">Eq</a> + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'static</h4></section><details class="toggle" open><summary><section id="associatedtype.Connection" class="method"><a class="srclink rightside" href="../../src/smoldot_light/platform.rs.html#48">source</a><h4 class="code-header">type <a href="#associatedtype.Connection" class="associatedtype">Connection</a>: <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'static</h4></section></summary><div class="docblock"><p>A multi-stream connection.</p>
<p>This object is merely a handle. The underlying connection should be dropped only after
the <code>Connection</code> and all its associated substream objects (<a href="trait.PlatformRef.html#associatedtype.Stream" title="associated type smoldot_light::platform::PlatformRef::Stream"><code>PlatformRef::Stream</code></a>) have
been dropped.</p>
</div></details><details class="toggle" open><summary><section id="associatedtype.Stream" class="method"><a class="srclink rightside" href="../../src/smoldot_light/platform.rs.html#55">source</a><h4 class="code-header">type <a href="#associatedtype.Stream" class="associatedtype">Stream</a>: <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'static</h4></section></summary><div class="docblock"><p>Opaque object representing either a single-stream connection or a substream in a
multi-stream connection.</p>
<p>If this object is abruptly dropped, the underlying single stream connection or substream
should be abruptly dropped (i.e. RST) as well, unless its reading and writing sides
have been gracefully closed in the past.</p>
</div></details><section id="associatedtype.ConnectFuture" class="method"><a class="srclink rightside" href="../../src/smoldot_light/platform.rs.html#56-59">source</a><h4 class="code-header">type <a href="#associatedtype.ConnectFuture" class="associatedtype">ConnectFuture</a>: <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.70.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="enum.PlatformConnection.html" title="enum smoldot_light::platform::PlatformConnection">PlatformConnection</a>&lt;Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Stream" title="type smoldot_light::platform::PlatformRef::Stream">Stream</a>, Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Connection" title="type smoldot_light::platform::PlatformRef::Connection">Connection</a>&gt;, <a class="struct" href="struct.ConnectError.html" title="struct smoldot_light::platform::ConnectError">ConnectError</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'static</h4></section><section id="associatedtype.StreamUpdateFuture" class="method"><a class="srclink rightside" href="../../src/smoldot_light/platform.rs.html#60">source</a><h4 class="code-header">type <a href="#associatedtype.StreamUpdateFuture" class="associatedtype">StreamUpdateFuture</a>&lt;'a&gt;: <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.unit.html">()</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'a</h4></section><section id="associatedtype.NextSubstreamFuture" class="method"><a class="srclink rightside" href="../../src/smoldot_light/platform.rs.html#61-64">source</a><h4 class="code-header">type <a href="#associatedtype.NextSubstreamFuture" class="associatedtype">NextSubstreamFuture</a>&lt;'a&gt;: <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.70.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;(Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Stream" title="type smoldot_light::platform::PlatformRef::Stream">Stream</a>, <a class="enum" href="enum.PlatformSubstreamDirection.html" title="enum smoldot_light::platform::PlatformSubstreamDirection">PlatformSubstreamDirection</a>)&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'a</h4></section></div><h2 id="required-methods" class="small-section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.now_from_unix_epoch" class="method"><a class="srclink rightside" href="../../src/smoldot_light/platform.rs.html#74">source</a><h4 class="code-header">fn <a href="#tymethod.now_from_unix_epoch" class="fn">now_from_unix_epoch</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.70.0/core/time/struct.Duration.html" title="struct core::time::Duration">Duration</a></h4></section></summary><div class="docblock"><p>Returns the time elapsed since <a href="https://en.wikipedia.org/wiki/Unix_time">the Unix Epoch</a>
(i.e. 00:00:00 UTC on 1 January 1970), ignoring leap seconds.</p>
<h5 id="panic"><a href="#panic">Panic</a></h5>
<p>Panics if the system time is configured to be below the UNIX epoch. This situation is a
very very niche edge case that isn’t worth handling.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.now" class="method"><a class="srclink rightside" href="../../src/smoldot_light/platform.rs.html#77">source</a><h4 class="code-header">fn <a href="#tymethod.now" class="fn">now</a>(&amp;self) -&gt; Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Instant" title="type smoldot_light::platform::PlatformRef::Instant">Instant</a></h4></section></summary><div class="docblock"><p>Returns an object that represents “now”.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.sleep" class="method"><a class="srclink rightside" href="../../src/smoldot_light/platform.rs.html#80">source</a><h4 class="code-header">fn <a href="#tymethod.sleep" class="fn">sleep</a>(&amp;self, duration: <a class="struct" href="https://doc.rust-lang.org/1.70.0/core/time/struct.Duration.html" title="struct core::time::Duration">Duration</a>) -&gt; Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Delay" title="type smoldot_light::platform::PlatformRef::Delay">Delay</a></h4></section></summary><div class="docblock"><p>Creates a future that becomes ready after at least the given duration has elapsed.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.sleep_until" class="method"><a class="srclink rightside" href="../../src/smoldot_light/platform.rs.html#83">source</a><h4 class="code-header">fn <a href="#tymethod.sleep_until" class="fn">sleep_until</a>(&amp;self, when: Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Instant" title="type smoldot_light::platform::PlatformRef::Instant">Instant</a>) -&gt; Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Delay" title="type smoldot_light::platform::PlatformRef::Delay">Delay</a></h4></section></summary><div class="docblock"><p>Creates a future that becomes ready after the given instant has been reached.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.spawn_task" class="method"><a class="srclink rightside" href="../../src/smoldot_light/platform.rs.html#91">source</a><h4 class="code-header">fn <a href="#tymethod.spawn_task" class="fn">spawn_task</a>(&amp;self, task_name: <a class="enum" href="https://doc.rust-lang.org/1.70.0/alloc/borrow/enum.Cow.html" title="enum alloc::borrow::Cow">Cow</a>&lt;'_, <a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.str.html">str</a>&gt;, task: BoxFuture&lt;'static, <a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.unit.html">()</a>&gt;)</h4></section></summary><div class="docblock"><p>Spawns a task that runs indefinitely in the background.</p>
<p>The first parameter is the name of the task, which can be useful for debugging purposes.</p>
<p>The <code>Future</code> must be run until it yields a value.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.client_name" class="method"><a class="srclink rightside" href="../../src/smoldot_light/platform.rs.html#95">source</a><h4 class="code-header">fn <a href="#tymethod.client_name" class="fn">client_name</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.70.0/alloc/borrow/enum.Cow.html" title="enum alloc::borrow::Cow">Cow</a>&lt;'_, <a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.str.html">str</a>&gt;</h4></section></summary><div class="docblock"><p>Value returned when a JSON-RPC client requests the name of the client, or when a peer
performs an identification request. Reasonable value is <code>env!(&quot;CARGO_PKG_NAME&quot;)</code>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.client_version" class="method"><a class="srclink rightside" href="../../src/smoldot_light/platform.rs.html#99">source</a><h4 class="code-header">fn <a href="#tymethod.client_version" class="fn">client_version</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.70.0/alloc/borrow/enum.Cow.html" title="enum alloc::borrow::Cow">Cow</a>&lt;'_, <a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.str.html">str</a>&gt;</h4></section></summary><div class="docblock"><p>Value returned when a JSON-RPC client requests the version of the client, or when a peer
performs an identification request. Reasonable value is <code>env!(&quot;CARGO_PKG_VERSION&quot;)</code>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.yield_after_cpu_intensive" class="method"><a class="srclink rightside" href="../../src/smoldot_light/platform.rs.html#104">source</a><h4 class="code-header">fn <a href="#tymethod.yield_after_cpu_intensive" class="fn">yield_after_cpu_intensive</a>(&amp;self) -&gt; Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Yield" title="type smoldot_light::platform::PlatformRef::Yield">Yield</a></h4></section></summary><div class="docblock"><p>Should be called after a CPU-intensive operation in order to yield back control.</p>
<p>This function can be implemented as no-op on platforms where this is irrelevant.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.connect" class="method"><a class="srclink rightside" href="../../src/smoldot_light/platform.rs.html#110">source</a><h4 class="code-header">fn <a href="#tymethod.connect" class="fn">connect</a>(&amp;self, url: &amp;<a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.str.html">str</a>) -&gt; Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.ConnectFuture" title="type smoldot_light::platform::PlatformRef::ConnectFuture">ConnectFuture</a></h4></section></summary><div class="docblock"><p>Starts a connection attempt to the given multiaddress.</p>
<p>The multiaddress is passed as a string. If the string can’t be parsed, an error should be
returned where <a href="struct.ConnectError.html#structfield.is_bad_addr" title="field smoldot_light::platform::ConnectError::is_bad_addr"><code>ConnectError::is_bad_addr</code></a> is <code>true</code>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.open_out_substream" class="method"><a class="srclink rightside" href="../../src/smoldot_light/platform.rs.html#123">source</a><h4 class="code-header">fn <a href="#tymethod.open_out_substream" class="fn">open_out_substream</a>(&amp;self, connection: &amp;mut Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Connection" title="type smoldot_light::platform::PlatformRef::Connection">Connection</a>)</h4></section></summary><div class="docblock"><p>Queues the opening of an additional outbound substream.</p>
<p>The substream, once opened, must be yielded by <a href="trait.PlatformRef.html#tymethod.next_substream" title="method smoldot_light::platform::PlatformRef::next_substream"><code>PlatformRef::next_substream</code></a>.</p>
<p>Calls to this function should be ignored if the connection has already been killed by the
remote.</p>
<blockquote>
<p><strong>Note</strong>: No mechanism exists in this API to handle the situation where a substream fails
to open, as this is not supposed to happen. If you need to handle such a
situation, either try again opening a substream again or reset the entire
connection.</p>
</blockquote>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.next_substream" class="method"><a class="srclink rightside" href="../../src/smoldot_light/platform.rs.html#133-136">source</a><h4 class="code-header">fn <a href="#tymethod.next_substream" class="fn">next_substream</a>&lt;'a&gt;(
    &amp;self,
    connection: &amp;'a mut Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Connection" title="type smoldot_light::platform::PlatformRef::Connection">Connection</a>
) -&gt; Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.NextSubstreamFuture" title="type smoldot_light::platform::PlatformRef::NextSubstreamFuture">NextSubstreamFuture</a>&lt;'a&gt;</h4></section></summary><div class="docblock"><p>Waits until a new incoming substream arrives on the connection.</p>
<p>This returns both inbound and outbound substreams. Outbound substreams should only be
yielded once for every call to <a href="trait.PlatformRef.html#tymethod.open_out_substream" title="method smoldot_light::platform::PlatformRef::open_out_substream"><code>PlatformRef::open_out_substream</code></a>.</p>
<p>The future can also return <code>None</code> if the connection has been killed by the remote. If
the future returns <code>None</code>, the user of the <code>PlatformRef</code> should drop the <code>Connection</code> and
all its associated <code>Stream</code>s as soon as possible.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.update_stream" class="method"><a class="srclink rightside" href="../../src/smoldot_light/platform.rs.html#160">source</a><h4 class="code-header">fn <a href="#tymethod.update_stream" class="fn">update_stream</a>&lt;'a&gt;(
    &amp;self,
    stream: &amp;'a mut Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Stream" title="type smoldot_light::platform::PlatformRef::Stream">Stream</a>
) -&gt; Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.StreamUpdateFuture" title="type smoldot_light::platform::PlatformRef::StreamUpdateFuture">StreamUpdateFuture</a>&lt;'a&gt;</h4></section></summary><div class="docblock"><p>Synchronizes the stream with the “actual” stream.</p>
<p>Returns a future that becomes ready when “something” in the state has changed. In other
words, when data has been added to the read buffer of the given stream , or the remote
closes their sending side, or the number of writable bytes (see
<a href="trait.PlatformRef.html#tymethod.writable_bytes" title="method smoldot_light::platform::PlatformRef::writable_bytes"><code>PlatformRef::writable_bytes</code></a>) increases.</p>
<p>This function might not add data to the read buffer nor process the remote closing its
writing side, unless the read buffer has been emptied beforehand using
<a href="trait.PlatformRef.html#tymethod.advance_read_cursor" title="method smoldot_light::platform::PlatformRef::advance_read_cursor"><code>PlatformRef::advance_read_cursor</code></a>.</p>
<p>In the specific situation where the reading side is closed and the writing side has been
closed using <a href="trait.PlatformRef.html#tymethod.close_send" title="method smoldot_light::platform::PlatformRef::close_send"><code>PlatformRef::close_send</code></a>, the API user must call this function before
dropping the <code>Stream</code> object. This makes it possible for the implementation to finish
cleaning up everything gracefully before the object is dropped.</p>
<p>This function should also flush any outgoing data if necessary.</p>
<p>In order to avoid race conditions, the state of the read buffer and the writable bytes
shouldn’t be updated unless this function is called.
In other words, calling this function switches the stream from a state to another, and
this state transition should only happen when this function is called and not otherwise.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.read_buffer" class="method"><a class="srclink rightside" href="../../src/smoldot_light/platform.rs.html#163">source</a><h4 class="code-header">fn <a href="#tymethod.read_buffer" class="fn">read_buffer</a>&lt;'a&gt;(&amp;self, stream: &amp;'a mut Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Stream" title="type smoldot_light::platform::PlatformRef::Stream">Stream</a>) -&gt; <a class="enum" href="enum.ReadBuffer.html" title="enum smoldot_light::platform::ReadBuffer">ReadBuffer</a>&lt;'a&gt;</h4></section></summary><div class="docblock"><p>Gives access to the content of the read buffer of the given stream.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.advance_read_cursor" class="method"><a class="srclink rightside" href="../../src/smoldot_light/platform.rs.html#174">source</a><h4 class="code-header">fn <a href="#tymethod.advance_read_cursor" class="fn">advance_read_cursor</a>(&amp;self, stream: &amp;mut Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Stream" title="type smoldot_light::platform::PlatformRef::Stream">Stream</a>, bytes: <a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.usize.html">usize</a>)</h4></section></summary><div class="docblock"><p>Discards the first <code>bytes</code> bytes of the read buffer of this stream.</p>
<p>This makes it possible for more data to be received when <a href="trait.PlatformRef.html#tymethod.update_stream" title="method smoldot_light::platform::PlatformRef::update_stream"><code>PlatformRef::update_stream</code></a> is
called.</p>
<h5 id="panic-1"><a href="#panic-1">Panic</a></h5>
<p>Panics if there aren’t enough bytes to discard in the buffer.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.writable_bytes" class="method"><a class="srclink rightside" href="../../src/smoldot_light/platform.rs.html#185">source</a><h4 class="code-header">fn <a href="#tymethod.writable_bytes" class="fn">writable_bytes</a>(&amp;self, stream: &amp;mut Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Stream" title="type smoldot_light::platform::PlatformRef::Stream">Stream</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.usize.html">usize</a></h4></section></summary><div class="docblock"><p>Returns the maximum size of the buffer that can be passed to <a href="trait.PlatformRef.html#tymethod.send" title="method smoldot_light::platform::PlatformRef::send"><code>PlatformRef::send</code></a>.</p>
<p>Must return 0 if <a href="trait.PlatformRef.html#tymethod.close_send" title="method smoldot_light::platform::PlatformRef::close_send"><code>PlatformRef::close_send</code></a> has previously been called, or if the stream
has been reset by the remote.</p>
<p>If <a href="trait.PlatformRef.html#tymethod.send" title="method smoldot_light::platform::PlatformRef::send"><code>PlatformRef::send</code></a> is called, the number of writable bytes must decrease by exactly
the size of the buffer that was provided.
The number of writable bytes should never change unless <a href="trait.PlatformRef.html#tymethod.update_stream" title="method smoldot_light::platform::PlatformRef::update_stream"><code>PlatformRef::update_stream</code></a> is
called.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.send" class="method"><a class="srclink rightside" href="../../src/smoldot_light/platform.rs.html#201">source</a><h4 class="code-header">fn <a href="#tymethod.send" class="fn">send</a>(&amp;self, stream: &amp;mut Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Stream" title="type smoldot_light::platform::PlatformRef::Stream">Stream</a>, data: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.u8.html">u8</a>])</h4></section></summary><div class="docblock"><p>Queues the given bytes to be sent out on the given stream.</p>
<blockquote>
<p><strong>Note</strong>: In the case of <a href="enum.PlatformConnection.html#variant.MultiStreamWebRtc" title="variant smoldot_light::platform::PlatformConnection::MultiStreamWebRtc"><code>PlatformConnection::MultiStreamWebRtc</code></a>, be aware that there
exists a limit to the amount of data to send in a single packet. The <code>data</code>
parameter is guaranteed to fit within that limit. Due to the existence of this
limit, the implementation of this function shouldn’t attempt to save function
calls by performing internal buffering and batching multiple calls into one.</p>
</blockquote>
<h5 id="panic-2"><a href="#panic-2">Panic</a></h5>
<p>Panics if <code>data.is_empty()</code>.
Panics if <code>data.len()</code> is superior to the value returned by <a href="trait.PlatformRef.html#tymethod.writable_bytes" title="method smoldot_light::platform::PlatformRef::writable_bytes"><code>PlatformRef::writable_bytes</code></a>.
Panics if <a href="trait.PlatformRef.html#tymethod.close_send" title="method smoldot_light::platform::PlatformRef::close_send"><code>PlatformRef::close_send</code></a> has been called before on this stream.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.close_send" class="method"><a class="srclink rightside" href="../../src/smoldot_light/platform.rs.html#212">source</a><h4 class="code-header">fn <a href="#tymethod.close_send" class="fn">close_send</a>(&amp;self, stream: &amp;mut Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Stream" title="type smoldot_light::platform::PlatformRef::Stream">Stream</a>)</h4></section></summary><div class="docblock"><p>Closes the sending side of the given stream.</p>
<blockquote>
<p><strong>Note</strong>: In situations where this isn’t possible, such as with the WebSocket protocol,
this is a no-op.</p>
</blockquote>
<h5 id="panic-3"><a href="#panic-3">Panic</a></h5>
<p>Panics if <a href="trait.PlatformRef.html#tymethod.close_send" title="method smoldot_light::platform::PlatformRef::close_send"><code>PlatformRef::close_send</code></a> has already been called on this stream.</p>
</div></details></div><h2 id="foreign-impls" class="small-section-header">Implementations on Foreign Types<a href="#foreign-impls" class="anchor">§</a></h2><details class="toggle implementors-toggle"><summary><section id="impl-PlatformRef-for-Arc%3CDefaultPlatform%3E" class="impl"><a class="srclink rightside" href="../../src/smoldot_light/platform/default.rs.html#52-408">source</a><a href="#impl-PlatformRef-for-Arc%3CDefaultPlatform%3E" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.PlatformRef.html" title="trait smoldot_light::platform::PlatformRef">PlatformRef</a> for <a class="struct" href="https://doc.rust-lang.org/1.70.0/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="default/struct.DefaultPlatform.html" title="struct smoldot_light::platform::default::DefaultPlatform">DefaultPlatform</a>&gt;</h3></section></summary><div class="impl-items"><section id="associatedtype.Delay-1" class="associatedtype trait-impl"><a href="#associatedtype.Delay-1" class="anchor">§</a><h4 class="code-header">type <a href="#associatedtype.Delay" class="associatedtype">Delay</a> = <a class="struct" href="https://doc.rust-lang.org/1.70.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.70.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.unit.html">()</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'static, <a class="struct" href="https://doc.rust-lang.org/1.70.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt;</h4></section><section id="associatedtype.Yield-1" class="associatedtype trait-impl"><a href="#associatedtype.Yield-1" class="anchor">§</a><h4 class="code-header">type <a href="#associatedtype.Yield" class="associatedtype">Yield</a> = Ready&lt;<a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.unit.html">()</a>&gt;</h4></section><section id="associatedtype.Instant-1" class="associatedtype trait-impl"><a href="#associatedtype.Instant-1" class="anchor">§</a><h4 class="code-header">type <a href="#associatedtype.Instant" class="associatedtype">Instant</a> = <a class="struct" href="https://doc.rust-lang.org/1.70.0/std/time/struct.Instant.html" title="struct std::time::Instant">Instant</a></h4></section><section id="associatedtype.Connection-1" class="associatedtype trait-impl"><a href="#associatedtype.Connection-1" class="anchor">§</a><h4 class="code-header">type <a href="#associatedtype.Connection" class="associatedtype">Connection</a> = <a class="enum" href="https://doc.rust-lang.org/1.70.0/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a></h4></section><section id="associatedtype.Stream-1" class="associatedtype trait-impl"><a href="#associatedtype.Stream-1" class="anchor">§</a><h4 class="code-header">type <a href="#associatedtype.Stream" class="associatedtype">Stream</a> = <a class="struct" href="default/struct.Stream.html" title="struct smoldot_light::platform::default::Stream">Stream</a></h4></section><section id="associatedtype.ConnectFuture-1" class="associatedtype trait-impl"><a href="#associatedtype.ConnectFuture-1" class="anchor">§</a><h4 class="code-header">type <a href="#associatedtype.ConnectFuture" class="associatedtype">ConnectFuture</a> = <a class="struct" href="https://doc.rust-lang.org/1.70.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.70.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.70.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="enum.PlatformConnection.html" title="enum smoldot_light::platform::PlatformConnection">PlatformConnection</a>&lt;&lt;<a class="struct" href="https://doc.rust-lang.org/1.70.0/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="default/struct.DefaultPlatform.html" title="struct smoldot_light::platform::default::DefaultPlatform">DefaultPlatform</a>&gt; as <a class="trait" href="trait.PlatformRef.html" title="trait smoldot_light::platform::PlatformRef">PlatformRef</a>&gt;::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Stream" title="type smoldot_light::platform::PlatformRef::Stream">Stream</a>, &lt;<a class="struct" href="https://doc.rust-lang.org/1.70.0/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="default/struct.DefaultPlatform.html" title="struct smoldot_light::platform::default::DefaultPlatform">DefaultPlatform</a>&gt; as <a class="trait" href="trait.PlatformRef.html" title="trait smoldot_light::platform::PlatformRef">PlatformRef</a>&gt;::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Connection" title="type smoldot_light::platform::PlatformRef::Connection">Connection</a>&gt;, <a class="struct" href="struct.ConnectError.html" title="struct smoldot_light::platform::ConnectError">ConnectError</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'static, <a class="struct" href="https://doc.rust-lang.org/1.70.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt;</h4></section><section id="associatedtype.StreamUpdateFuture-1" class="associatedtype trait-impl"><a href="#associatedtype.StreamUpdateFuture-1" class="anchor">§</a><h4 class="code-header">type <a href="#associatedtype.StreamUpdateFuture" class="associatedtype">StreamUpdateFuture</a>&lt;'a&gt; = <a class="struct" href="https://doc.rust-lang.org/1.70.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.70.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.unit.html">()</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'a, <a class="struct" href="https://doc.rust-lang.org/1.70.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt;</h4></section><section id="associatedtype.NextSubstreamFuture-1" class="associatedtype trait-impl"><a href="#associatedtype.NextSubstreamFuture-1" class="anchor">§</a><h4 class="code-header">type <a href="#associatedtype.NextSubstreamFuture" class="associatedtype">NextSubstreamFuture</a>&lt;'a&gt; = Pending&lt;<a class="enum" href="https://doc.rust-lang.org/1.70.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;(&lt;<a class="struct" href="https://doc.rust-lang.org/1.70.0/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="default/struct.DefaultPlatform.html" title="struct smoldot_light::platform::default::DefaultPlatform">DefaultPlatform</a>&gt; as <a class="trait" href="trait.PlatformRef.html" title="trait smoldot_light::platform::PlatformRef">PlatformRef</a>&gt;::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Stream" title="type smoldot_light::platform::PlatformRef::Stream">Stream</a>, <a class="enum" href="enum.PlatformSubstreamDirection.html" title="enum smoldot_light::platform::PlatformSubstreamDirection">PlatformSubstreamDirection</a>)&gt;&gt;</h4></section><section id="method.now_from_unix_epoch" class="method trait-impl"><a class="srclink rightside" href="../../src/smoldot_light/platform/default.rs.html#66-69">source</a><a href="#method.now_from_unix_epoch" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.now_from_unix_epoch" class="fn">now_from_unix_epoch</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.70.0/core/time/struct.Duration.html" title="struct core::time::Duration">Duration</a></h4></section><section id="method.now" class="method trait-impl"><a class="srclink rightside" href="../../src/smoldot_light/platform/default.rs.html#71-73">source</a><a href="#method.now" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.now" class="fn">now</a>(&amp;self) -&gt; Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Instant" title="type smoldot_light::platform::PlatformRef::Instant">Instant</a></h4></section><section id="method.sleep" class="method trait-impl"><a class="srclink rightside" href="../../src/smoldot_light/platform/default.rs.html#75-77">source</a><a href="#method.sleep" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.sleep" class="fn">sleep</a>(&amp;self, duration: <a class="struct" href="https://doc.rust-lang.org/1.70.0/core/time/struct.Duration.html" title="struct core::time::Duration">Duration</a>) -&gt; Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Delay" title="type smoldot_light::platform::PlatformRef::Delay">Delay</a></h4></section><section id="method.sleep_until" class="method trait-impl"><a class="srclink rightside" href="../../src/smoldot_light/platform/default.rs.html#79-82">source</a><a href="#method.sleep_until" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.sleep_until" class="fn">sleep_until</a>(&amp;self, when: Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Instant" title="type smoldot_light::platform::PlatformRef::Instant">Instant</a>) -&gt; Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Delay" title="type smoldot_light::platform::PlatformRef::Delay">Delay</a></h4></section><section id="method.spawn_task" class="method trait-impl"><a class="srclink rightside" href="../../src/smoldot_light/platform/default.rs.html#84-86">source</a><a href="#method.spawn_task" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.spawn_task" class="fn">spawn_task</a>(&amp;self, _task_name: <a class="enum" href="https://doc.rust-lang.org/1.70.0/alloc/borrow/enum.Cow.html" title="enum alloc::borrow::Cow">Cow</a>&lt;'_, <a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.str.html">str</a>&gt;, task: BoxFuture&lt;'static, <a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.unit.html">()</a>&gt;)</h4></section><section id="method.client_name" class="method trait-impl"><a class="srclink rightside" href="../../src/smoldot_light/platform/default.rs.html#88-90">source</a><a href="#method.client_name" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.client_name" class="fn">client_name</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.70.0/alloc/borrow/enum.Cow.html" title="enum alloc::borrow::Cow">Cow</a>&lt;'_, <a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.str.html">str</a>&gt;</h4></section><section id="method.client_version" class="method trait-impl"><a class="srclink rightside" href="../../src/smoldot_light/platform/default.rs.html#92-94">source</a><a href="#method.client_version" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.client_version" class="fn">client_version</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.70.0/alloc/borrow/enum.Cow.html" title="enum alloc::borrow::Cow">Cow</a>&lt;'_, <a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.str.html">str</a>&gt;</h4></section><section id="method.yield_after_cpu_intensive" class="method trait-impl"><a class="srclink rightside" href="../../src/smoldot_light/platform/default.rs.html#96-99">source</a><a href="#method.yield_after_cpu_intensive" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.yield_after_cpu_intensive" class="fn">yield_after_cpu_intensive</a>(&amp;self) -&gt; Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Yield" title="type smoldot_light::platform::PlatformRef::Yield">Yield</a></h4></section><section id="method.connect" class="method trait-impl"><a class="srclink rightside" href="../../src/smoldot_light/platform/default.rs.html#101-222">source</a><a href="#method.connect" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.connect" class="fn">connect</a>(&amp;self, multiaddr: &amp;<a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.str.html">str</a>) -&gt; Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.ConnectFuture" title="type smoldot_light::platform::PlatformRef::ConnectFuture">ConnectFuture</a></h4></section><section id="method.open_out_substream" class="method trait-impl"><a class="srclink rightside" href="../../src/smoldot_light/platform/default.rs.html#224-228">source</a><a href="#method.open_out_substream" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.open_out_substream" class="fn">open_out_substream</a>(&amp;self, c: &amp;mut Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Connection" title="type smoldot_light::platform::PlatformRef::Connection">Connection</a>)</h4></section><section id="method.next_substream" class="method trait-impl"><a class="srclink rightside" href="../../src/smoldot_light/platform/default.rs.html#230-234">source</a><a href="#method.next_substream" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.next_substream" class="fn">next_substream</a>(
    &amp;self,
    c: &amp;mut Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Connection" title="type smoldot_light::platform::PlatformRef::Connection">Connection</a>
) -&gt; Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.NextSubstreamFuture" title="type smoldot_light::platform::PlatformRef::NextSubstreamFuture">NextSubstreamFuture</a>&lt;'_&gt;</h4></section><section id="method.update_stream" class="method trait-impl"><a class="srclink rightside" href="../../src/smoldot_light/platform/default.rs.html#236-350">source</a><a href="#method.update_stream" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.update_stream" class="fn">update_stream</a>&lt;'a&gt;(
    &amp;self,
    stream: &amp;'a mut Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Stream" title="type smoldot_light::platform::PlatformRef::Stream">Stream</a>
) -&gt; Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.StreamUpdateFuture" title="type smoldot_light::platform::PlatformRef::StreamUpdateFuture">StreamUpdateFuture</a>&lt;'a&gt;</h4></section><section id="method.read_buffer" class="method trait-impl"><a class="srclink rightside" href="../../src/smoldot_light/platform/default.rs.html#352-360">source</a><a href="#method.read_buffer" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.read_buffer" class="fn">read_buffer</a>&lt;'a&gt;(&amp;self, stream: &amp;'a mut Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Stream" title="type smoldot_light::platform::PlatformRef::Stream">Stream</a>) -&gt; <a class="enum" href="enum.ReadBuffer.html" title="enum smoldot_light::platform::ReadBuffer">ReadBuffer</a>&lt;'a&gt;</h4></section><section id="method.advance_read_cursor" class="method trait-impl"><a class="srclink rightside" href="../../src/smoldot_light/platform/default.rs.html#362-372">source</a><a href="#method.advance_read_cursor" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.advance_read_cursor" class="fn">advance_read_cursor</a>(&amp;self, stream: &amp;mut Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Stream" title="type smoldot_light::platform::PlatformRef::Stream">Stream</a>, extra_bytes: <a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.usize.html">usize</a>)</h4></section><section id="method.writable_bytes" class="method trait-impl"><a class="srclink rightside" href="../../src/smoldot_light/platform/default.rs.html#374-378">source</a><a href="#method.writable_bytes" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.writable_bytes" class="fn">writable_bytes</a>(&amp;self, stream: &amp;mut Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Stream" title="type smoldot_light::platform::PlatformRef::Stream">Stream</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.usize.html">usize</a></h4></section><section id="method.send" class="method trait-impl"><a class="srclink rightside" href="../../src/smoldot_light/platform/default.rs.html#380-390">source</a><a href="#method.send" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.send" class="fn">send</a>(&amp;self, stream: &amp;mut Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Stream" title="type smoldot_light::platform::PlatformRef::Stream">Stream</a>, data: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.u8.html">u8</a>])</h4></section><section id="method.close_send" class="method trait-impl"><a class="srclink rightside" href="../../src/smoldot_light/platform/default.rs.html#392-407">source</a><a href="#method.close_send" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.close_send" class="fn">close_send</a>(&amp;self, stream: &amp;mut Self::<a class="associatedtype" href="trait.PlatformRef.html#associatedtype.Stream" title="type smoldot_light::platform::PlatformRef::Stream">Stream</a>)</h4></section></div></details><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"></div><script src="../../implementors/smoldot_light/platform/trait.PlatformRef.js" data-ignore-extern-crates="alloc" async></script></section></div></main></body></html>