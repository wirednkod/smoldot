<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `RequestsSubscriptions` struct in crate `smoldot`."><title>RequestsSubscriptions in smoldot::json_rpc::requests_subscriptions - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../static.files/rustdoc-ba5701c5741a7b69.css" id="mainThemeStyle"><div id="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="smoldot" data-themes="" data-resource-suffix="" data-rustdoc-version="1.70.0 (90c541806 2023-05-31)" data-search-js="search-e077946657036a58.js" data-settings-js="settings-298e1ea74db45b39.js" data-settings-css="settings-7bfb4c59cc6bc502.css" data-theme-light-css="light-0f8c037637f9eb3e.css" data-theme-dark-css="dark-1097f8e92a01e3cf.css" data-theme-ayu-css="ayu-614652228113ac93.css" ></div><script src="../../../static.files/storage-62ce34ea385b278a.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../static.files/main-f61008743c98d196.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../../../static.files/light-0f8c037637f9eb3e.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../../../static.files/dark-1097f8e92a01e3cf.css"><link rel="stylesheet" href="../../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc struct"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../../smoldot/index.html"><img class="rust-logo" src="../../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../../../smoldot/index.html"><img class="rust-logo" src="../../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">RequestsSubscriptions</a></h2><div class="sidebar-elems"><section><h3><a href="#implementations">Methods</a></h3><ul class="block"><li><a href="#method.add_client">add_client</a></li><li><a href="#method.add_client_mut">add_client_mut</a></li><li><a href="#method.new">new</a></li><li><a href="#method.next_request">next_request</a></li><li><a href="#method.next_response">next_response</a></li><li><a href="#method.push_notification">push_notification</a></li><li><a href="#method.queue_client_request">queue_client_request</a></li><li><a href="#method.remove_client">remove_client</a></li><li><a href="#method.respond">respond</a></li><li><a href="#method.run_subscription_task">run_subscription_task</a></li><li><a href="#method.set_max_clients">set_max_clients</a></li><li><a href="#method.set_queued_notification">set_queued_notification</a></li><li><a href="#method.start_subscription">start_subscription</a></li><li><a href="#method.subscription_send">subscription_send</a></li><li><a href="#method.try_push_notification">try_push_notification</a></li><li><a href="#method.try_queue_client_request">try_queue_client_request</a></li></ul><h3><a href="#synthetic-implementations">Auto Trait Implementations</a></h3><ul class="block"><li><a href="#impl-RefUnwindSafe-for-RequestsSubscriptions%3CTSubMsg%3E">!RefUnwindSafe</a></li><li><a href="#impl-UnwindSafe-for-RequestsSubscriptions%3CTSubMsg%3E">!UnwindSafe</a></li><li><a href="#impl-Send-for-RequestsSubscriptions%3CTSubMsg%3E">Send</a></li><li><a href="#impl-Sync-for-RequestsSubscriptions%3CTSubMsg%3E">Sync</a></li><li><a href="#impl-Unpin-for-RequestsSubscriptions%3CTSubMsg%3E">Unpin</a></li></ul><h3><a href="#blanket-implementations">Blanket Implementations</a></h3><ul class="block"><li><a href="#impl-Any-for-RequestsSubscriptions%3CTSubMsg%3E">Any</a></li><li><a href="#impl-Borrow%3CT%3E-for-RequestsSubscriptions%3CTSubMsg%3E">Borrow&lt;T&gt;</a></li><li><a href="#impl-BorrowMut%3CT%3E-for-RequestsSubscriptions%3CTSubMsg%3E">BorrowMut&lt;T&gt;</a></li><li><a href="#impl-Downcast-for-RequestsSubscriptions%3CTSubMsg%3E">Downcast</a></li><li><a href="#impl-DowncastSync-for-RequestsSubscriptions%3CTSubMsg%3E">DowncastSync</a></li><li><a href="#impl-From%3CT%3E-for-RequestsSubscriptions%3CTSubMsg%3E">From&lt;T&gt;</a></li><li><a href="#impl-Into%3CU%3E-for-RequestsSubscriptions%3CTSubMsg%3E">Into&lt;U&gt;</a></li><li><a href="#impl-Same%3CT%3E-for-RequestsSubscriptions%3CTSubMsg%3E">Same&lt;T&gt;</a></li><li><a href="#impl-TryFrom%3CU%3E-for-RequestsSubscriptions%3CTSubMsg%3E">TryFrom&lt;U&gt;</a></li><li><a href="#impl-TryInto%3CU%3E-for-RequestsSubscriptions%3CTSubMsg%3E">TryInto&lt;U&gt;</a></li><li><a href="#impl-VZip%3CV%3E-for-RequestsSubscriptions%3CTSubMsg%3E">VZip&lt;V&gt;</a></li></ul></section><h2><a href="index.html">In smoldot::json_rpc::requests_subscriptions</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Struct <a href="../../index.html">smoldot</a>::<wbr><a href="../index.html">json_rpc</a>::<wbr><a href="index.html">requests_subscriptions</a>::<wbr><a class="struct" href="#">RequestsSubscriptions</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../../src/smoldot/json_rpc/requests_subscriptions.rs.html#162-206">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub struct RequestsSubscriptions&lt;TSubMsg&gt; { /* private fields */ }</code></pre><h2 id="implementations" class="small-section-header">Implementations<a href="#implementations" class="anchor">§</a></h2><div id="implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-RequestsSubscriptions%3CTSubMsg%3E" class="impl"><a class="srclink rightside" href="../../../src/smoldot/json_rpc/requests_subscriptions.rs.html#208-1071">source</a><a href="#impl-RequestsSubscriptions%3CTSubMsg%3E" class="anchor">§</a><h3 class="code-header">impl&lt;TSubMsg: <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'static&gt; <a class="struct" href="struct.RequestsSubscriptions.html" title="struct smoldot::json_rpc::requests_subscriptions::RequestsSubscriptions">RequestsSubscriptions</a>&lt;TSubMsg&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.new" class="method"><a class="srclink rightside" href="../../../src/smoldot/json_rpc/requests_subscriptions.rs.html#210-235">source</a><h4 class="code-header">pub fn <a href="#method.new" class="fn">new</a>(config: <a class="struct" href="struct.Config.html" title="struct smoldot::json_rpc::requests_subscriptions::Config">Config</a>) -&gt; Self</h4></section></summary><div class="docblock"><p>Creates a new empty state machine.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.set_max_clients" class="method"><a class="srclink rightside" href="../../../src/smoldot/json_rpc/requests_subscriptions.rs.html#248-250">source</a><h4 class="code-header">pub fn <a href="#method.set_max_clients" class="fn">set_max_clients</a>(&amp;self, max_clients: <a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.usize.html">usize</a>)</h4></section></summary><div class="docblock"><p>Changes the maximum number of allowed clients.</p>
<p>Note that the ordering of this operation is <code>Relaxed</code>, meaning that this change will apply
some time in the future and not necessarily immediately.</p>
<p>Lowering the maximum number of allowed clients below the current number will <em>not</em>
remove existing clients. If this is desired, this must be done manually by calling
<a href="struct.RequestsSubscriptions.html#method.remove_client" title="method smoldot::json_rpc::requests_subscriptions::RequestsSubscriptions::remove_client"><code>RequestsSubscriptions::remove_client</code></a>.</p>
<blockquote>
<p><strong>Note</strong>: This function can typically be used at runtime to adjust the maximum number
of clients based on the resource consumption of the binary.</p>
</blockquote>
</div></details><details class="toggle method-toggle" open><summary><section id="method.add_client" class="method"><a class="srclink rightside" href="../../../src/smoldot/json_rpc/requests_subscriptions.rs.html#258-261">source</a><h4 class="code-header">pub async fn <a href="#method.add_client" class="fn">add_client</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.70.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="struct.ClientId.html" title="struct smoldot::json_rpc::requests_subscriptions::ClientId">ClientId</a>, <a class="enum" href="enum.AddClientError.html" title="enum smoldot::json_rpc::requests_subscriptions::AddClientError">AddClientError</a>&gt;</h4></section></summary><div class="docblock"><p>Adds a new client to the state machine. A new <a href="struct.ClientId.html" title="struct smoldot::json_rpc::requests_subscriptions::ClientId"><code>ClientId</code></a> is attributed.</p>
<p>Can return an error if the maximum simultaneous number of clients has been reached.</p>
<p>A single instance of <a href="struct.RequestsSubscriptions.html" title="struct smoldot::json_rpc::requests_subscriptions::RequestsSubscriptions"><code>RequestsSubscriptions</code></a> will never allocate multiple times the same
<a href="struct.ClientId.html" title="struct smoldot::json_rpc::requests_subscriptions::ClientId"><code>ClientId</code></a>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.add_client_mut" class="method"><a class="srclink rightside" href="../../../src/smoldot/json_rpc/requests_subscriptions.rs.html#267-272">source</a><h4 class="code-header">pub fn <a href="#method.add_client_mut" class="fn">add_client_mut</a>(&amp;mut self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.70.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="struct.ClientId.html" title="struct smoldot::json_rpc::requests_subscriptions::ClientId">ClientId</a>, <a class="enum" href="enum.AddClientError.html" title="enum smoldot::json_rpc::requests_subscriptions::AddClientError">AddClientError</a>&gt;</h4></section></summary><div class="docblock"><p>Similar to <a href="struct.RequestsSubscriptions.html#method.add_client" title="method smoldot::json_rpc::requests_subscriptions::RequestsSubscriptions::add_client"><code>RequestsSubscriptions::add_client</code></a>, but non-async and takes <code>self</code> as <code>&amp;mut</code>.</p>
<blockquote>
<p><strong>Note</strong>: This function is notably useful for adding clients at initialization, when
outside of an asynchronous context.</p>
</blockquote>
</div></details><details class="toggle method-toggle" open><summary><section id="method.remove_client" class="method"><a class="srclink rightside" href="../../../src/smoldot/json_rpc/requests_subscriptions.rs.html#324-375">source</a><h4 class="code-header">pub async fn <a href="#method.remove_client" class="fn">remove_client</a>(
    &amp;self,
    client: &amp;<a class="struct" href="struct.ClientId.html" title="struct smoldot::json_rpc::requests_subscriptions::ClientId">ClientId</a>
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.70.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;(<a class="struct" href="https://doc.rust-lang.org/1.70.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="struct.RequestId.html" title="struct smoldot::json_rpc::requests_subscriptions::RequestId">RequestId</a>&gt;, <a class="struct" href="https://doc.rust-lang.org/1.70.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.70.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;)&gt;</h4></section></summary><div class="docblock"><p>Removes from the state machine the client with the given id.</p>
<p>Returns <code>None</code> if this <a href="struct.ClientId.html" title="struct smoldot::json_rpc::requests_subscriptions::ClientId"><code>ClientId</code></a> is stale or invalid.</p>
<p>This function invalidates all active requests and subscriptions that relate to this
client. The concerned <a href="struct.RequestId.html" title="struct smoldot::json_rpc::requests_subscriptions::RequestId"><code>RequestId</code></a>s and subscriptions are returned by this function.</p>
<p>Note however that functions such as <a href="struct.RequestsSubscriptions.html#method.respond" title="method smoldot::json_rpc::requests_subscriptions::RequestsSubscriptions::respond"><code>RequestsSubscriptions::respond</code></a> and
<a href="struct.RequestsSubscriptions.html#method.push_notification" title="method smoldot::json_rpc::requests_subscriptions::RequestsSubscriptions::push_notification"><code>RequestsSubscriptions::push_notification</code></a> intentionally have no effect if you pass an
invalid <a href="struct.ClientId.html" title="struct smoldot::json_rpc::requests_subscriptions::ClientId"><code>ClientId</code></a>. There is therefore no need to cancel any parallel task that might
currently be responding to requests or pushing notification messages.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.next_response" class="method"><a class="srclink rightside" href="../../../src/smoldot/json_rpc/requests_subscriptions.rs.html#386-461">source</a><h4 class="code-header">pub async fn <a href="#method.next_response" class="fn">next_response</a>(&amp;self, client: &amp;<a class="struct" href="struct.ClientId.html" title="struct smoldot::json_rpc::requests_subscriptions::ClientId">ClientId</a>) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.70.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a></h4></section></summary><div class="docblock"><p>Waits until a message is available in the queue of messages to send back to the given
client, then extracts it.</p>
<p>This asynchronous function can take a long time, as it blocks until a message is
available.</p>
<p>If the <a href="struct.ClientId.html" title="struct smoldot::json_rpc::requests_subscriptions::ClientId"><code>ClientId</code></a> no longer exists because of a call to <a href="struct.RequestsSubscriptions.html" title="struct smoldot::json_rpc::requests_subscriptions::RequestsSubscriptions"><code>RequestsSubscriptions</code></a>, then
this function never returns. It is the responsibility of the API user to not call this
function or to interrupt a pending function call with a stale <a href="struct.ClientId.html" title="struct smoldot::json_rpc::requests_subscriptions::ClientId"><code>ClientId</code></a>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.queue_client_request" class="method"><a class="srclink rightside" href="../../../src/smoldot/json_rpc/requests_subscriptions.rs.html#475-539">source</a><h4 class="code-header">pub async fn <a href="#method.queue_client_request" class="fn">queue_client_request</a>(&amp;self, client: &amp;<a class="struct" href="struct.ClientId.html" title="struct smoldot::json_rpc::requests_subscriptions::ClientId">ClientId</a>, request: <a class="struct" href="https://doc.rust-lang.org/1.70.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>)</h4></section></summary><div class="docblock"><p>Waits until a slot in the queue of requests is available, then queues the given request
passed as parameter.</p>
<p>The request can later be retrieved by calling <a href="struct.RequestsSubscriptions.html#method.next_request" title="method smoldot::json_rpc::requests_subscriptions::RequestsSubscriptions::next_request"><code>RequestsSubscriptions::next_request</code></a>.</p>
<p>This asynchronous function can take a long time, as it blocks until a queue entry is
available.</p>
<p>Slots in the queue of requests are only reclaimed after
<a href="struct.RequestsSubscriptions.html#method.next_response" title="method smoldot::json_rpc::requests_subscriptions::RequestsSubscriptions::next_response"><code>RequestsSubscriptions::next_response</code></a> has returned a response to a previous request.</p>
<p>Has no effect if the <a href="struct.ClientId.html" title="struct smoldot::json_rpc::requests_subscriptions::ClientId"><code>ClientId</code></a> is stale or invalid.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.try_queue_client_request" class="method"><a class="srclink rightside" href="../../../src/smoldot/json_rpc/requests_subscriptions.rs.html#548-592">source</a><h4 class="code-header">pub fn <a href="#method.try_queue_client_request" class="fn">try_queue_client_request</a>(
    &amp;self,
    client: &amp;<a class="struct" href="struct.ClientId.html" title="struct smoldot::json_rpc::requests_subscriptions::ClientId">ClientId</a>,
    request: <a class="struct" href="https://doc.rust-lang.org/1.70.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.70.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.unit.html">()</a>, <a class="struct" href="struct.TryQueueClientRequestError.html" title="struct smoldot::json_rpc::requests_subscriptions::TryQueueClientRequestError">TryQueueClientRequestError</a>&gt;</h4></section></summary><div class="docblock"><p>Similar to <a href="struct.RequestsSubscriptions.html#method.queue_client_request" title="method smoldot::json_rpc::requests_subscriptions::RequestsSubscriptions::queue_client_request"><code>RequestsSubscriptions::queue_client_request</code></a>, but succeeds or fails
instantly depending on whether there is enough room in the queue.</p>
<p>Slots in the queue of requests are only reclaimed after
<a href="struct.RequestsSubscriptions.html#method.next_response" title="method smoldot::json_rpc::requests_subscriptions::RequestsSubscriptions::next_response"><code>RequestsSubscriptions::next_response</code></a> has returned a response to a previous request.</p>
<p>Returns <code>Ok</code> and silently discards the request if the <a href="struct.ClientId.html" title="struct smoldot::json_rpc::requests_subscriptions::ClientId"><code>ClientId</code></a> is stale or invalid.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.next_request" class="method"><a class="srclink rightside" href="../../../src/smoldot/json_rpc/requests_subscriptions.rs.html#601-653">source</a><h4 class="code-header">pub async fn <a href="#method.next_request" class="fn">next_request</a>(&amp;self) -&gt; (<a class="struct" href="https://doc.rust-lang.org/1.70.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, <a class="struct" href="struct.RequestId.html" title="struct smoldot::json_rpc::requests_subscriptions::RequestId">RequestId</a>)</h4></section></summary><div class="docblock"><p>Waits until a request has been queued using
<a href="struct.RequestsSubscriptions.html#method.queue_client_request" title="method smoldot::json_rpc::requests_subscriptions::RequestsSubscriptions::queue_client_request"><code>RequestsSubscriptions::queue_client_request</code></a> and returns it, alongside with an
identifier to later pass back when answering the request.</p>
<p>Note that the request’s body, as a <code>String</code> has no guarantee to be valid. The <code>String</code> is
simply the value that was passed to <a href="struct.RequestsSubscriptions.html#method.queue_client_request" title="method smoldot::json_rpc::requests_subscriptions::RequestsSubscriptions::queue_client_request"><code>RequestsSubscriptions::queue_client_request</code></a> and
isn’t parsed or validated by the state machine in any way.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.respond" class="method"><a class="srclink rightside" href="../../../src/smoldot/json_rpc/requests_subscriptions.rs.html#660-681">source</a><h4 class="code-header">pub async fn <a href="#method.respond" class="fn">respond</a>(&amp;self, request: &amp;<a class="struct" href="struct.RequestId.html" title="struct smoldot::json_rpc::requests_subscriptions::RequestId">RequestId</a>, response: <a class="struct" href="https://doc.rust-lang.org/1.70.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>)</h4></section></summary><div class="docblock"><p>Sets the response to a request previously returned by
<a href="struct.RequestsSubscriptions.html#method.next_request" title="method smoldot::json_rpc::requests_subscriptions::RequestsSubscriptions::next_request"><code>RequestsSubscriptions::next_request</code></a>.</p>
<p>Has no effect if the <a href="struct.RequestId.html" title="struct smoldot::json_rpc::requests_subscriptions::RequestId"><code>RequestId</code></a> is invalid, for example if it has already been
responded or if the client has been removed.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.run_subscription_task" class="method"><a class="srclink rightside" href="../../../src/smoldot/json_rpc/requests_subscriptions.rs.html#688-690">source</a><h4 class="code-header">pub async fn <a href="#method.run_subscription_task" class="fn">run_subscription_task</a>(&amp;self)</h4></section></summary><div class="docblock"><p>Waits until a subscription task is ready to be polled, and polls it.</p>
<p>The subscription tasks do not run unless this function is called.</p>
<p>This function is typically expected to be called multiple times in parallel and in a loop.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.start_subscription" class="method"><a class="srclink rightside" href="../../../src/smoldot/json_rpc/requests_subscriptions.rs.html#724-795">source</a><h4 class="code-header">pub async fn <a href="#method.start_subscription" class="fn">start_subscription</a>&lt;'a, 'b&gt;(
    &amp;'a self,
    client_or_request: impl <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="enum" href="enum.ClientOrRequestIdRef.html" title="enum smoldot::json_rpc::requests_subscriptions::ClientOrRequestIdRef">ClientOrRequestIdRef</a>&lt;'b&gt;&gt;,
    notifications_capacity: <a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.usize.html">usize</a>
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.70.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;(<a class="struct" href="https://doc.rust-lang.org/1.70.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, <a class="struct" href="struct.MessagesReceiver.html" title="struct smoldot::json_rpc::requests_subscriptions::MessagesReceiver">MessagesReceiver</a>&lt;TSubMsg&gt;, <a class="struct" href="struct.SubscriptionStart.html" title="struct smoldot::json_rpc::requests_subscriptions::SubscriptionStart">SubscriptionStart</a>&lt;'_, TSubMsg&gt;), <a class="enum" href="enum.StartSubscriptionError.html" title="enum smoldot::json_rpc::requests_subscriptions::StartSubscriptionError">StartSubscriptionError</a>&gt;</h4></section></summary><div class="docblock"><p>Adds a new subscription to the state machine, associated with the client that started
the given request.</p>
<p>Returns an error if the client has reached the maximum number of allowed subscriptions
per client.</p>
<p>If the given <a href="struct.RequestId.html" title="struct smoldot::json_rpc::requests_subscriptions::RequestId"><code>RequestId</code></a> is stale or invalid, this function always succeeds and returns
a stale subscription.</p>
<p>The <a href="struct.SubscriptionStart.html" title="struct smoldot::json_rpc::requests_subscriptions::SubscriptionStart"><code>SubscriptionStart</code></a> object returned by this function on success must be used in order
to provide a background task associated with the given subscription. The subscription is
automatically cleaned up when the task finishes.</p>
<p>The provided <a href="struct.MessagesReceiver.html" title="struct smoldot::json_rpc::requests_subscriptions::MessagesReceiver"><code>MessagesReceiver</code></a> can be used to receive the messages that were sent using
<a href="struct.RequestsSubscriptions.html#method.subscription_send" title="method smoldot::json_rpc::requests_subscriptions::RequestsSubscriptions::subscription_send"><code>RequestsSubscriptions::subscription_send</code></a>. It is meant to be used only within the task
that is provided to <a href="struct.SubscriptionStart.html#method.start" title="method smoldot::json_rpc::requests_subscriptions::SubscriptionStart::start"><code>SubscriptionStart::start</code></a></p>
<h5 id="about-the-notifications-capacity"><a href="#about-the-notifications-capacity">About the notifications capacity</a></h5>
<p>The <code>notifications_capacity</code> parameter contains the number of notifications related to this
notification that can be queued for send back simultaneously.</p>
<p>This value is one of the parameters that bound the total memory usage of this state
machine. In other words, if there was no maximum, a malicious JSON-RPC client could
intentionally create a memory leak on the server.</p>
<p>It is therefore important that this value isn’t too large never gets decided by the
JSON-RPC client.</p>
<p>For some JSON-RPC functions, the value of this constant can easily be deduced from the
logic of the function. For other functions, the value of this constant should be hard coded.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.subscription_send" class="method"><a class="srclink rightside" href="../../../src/smoldot/json_rpc/requests_subscriptions.rs.html#809-853">source</a><h4 class="code-header">pub async fn <a href="#method.subscription_send" class="fn">subscription_send</a>&lt;'a, 'b&gt;(
    &amp;'a self,
    client_or_request: impl <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="enum" href="enum.ClientOrRequestIdRef.html" title="enum smoldot::json_rpc::requests_subscriptions::ClientOrRequestIdRef">ClientOrRequestIdRef</a>&lt;'b&gt;&gt;,
    subscription: &amp;<a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.str.html">str</a>,
    message: TSubMsg
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.70.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.unit.html">()</a>, <a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Sends a message to the receiver that was provided when this subscription was created, and
waits until the subscription has sent back a confirmation that it has processed the
message.</p>
<p>An error is returned if the <a href="struct.ClientId.html" title="struct smoldot::json_rpc::requests_subscriptions::ClientId"><code>ClientId</code></a> or <a href="struct.RequestId.html" title="struct smoldot::json_rpc::requests_subscriptions::RequestId"><code>RequestId</code></a> is stale or invalid, or if the
subscription silently drops the confirmation sender. This can happen intentionally or if
the subscription has shut down.</p>
<p>This asynchronous function performs two steps: delivering a message, then waiting for a
confirmation. Canceling the function in its confirmation waiting phase doesn’t
“un-deliver” the message. This function doesn’t allow to deliver a message without
waiting for a confirmation.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.set_queued_notification" class="method"><a class="srclink rightside" href="../../../src/smoldot/json_rpc/requests_subscriptions.rs.html#882-927">source</a><h4 class="code-header">pub async fn <a href="#method.set_queued_notification" class="fn">set_queued_notification</a>&lt;'a, 'b&gt;(
    &amp;'a self,
    client_or_request: impl <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="enum" href="enum.ClientOrRequestIdRef.html" title="enum smoldot::json_rpc::requests_subscriptions::ClientOrRequestIdRef">ClientOrRequestIdRef</a>&lt;'b&gt;&gt;,
    subscription: &amp;<a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.str.html">str</a>,
    index: <a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.usize.html">usize</a>,
    message: <a class="struct" href="https://doc.rust-lang.org/1.70.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>
)</h4></section></summary><div class="docblock"><p>Overwrites the notification whose index is <code>index</code> in the queue of notifications destined
for the user.</p>
<p>The queue of notifications can be sent as equivalent to a <code>Vec&lt;Option&lt;String&gt;&gt;</code> whose
length is equal to the <code>messages_capacity</code> that was passed to
<a href="struct.RequestsSubscriptions.html#method.start_subscription" title="method smoldot::json_rpc::requests_subscriptions::RequestsSubscriptions::start_subscription"><code>RequestsSubscriptions::start_subscription</code></a>, and this function does
<code>queue[index] = Some(message);</code>. It discards the message that was previously there, and
works no matter the presence or not of other messages in the queue.</p>
<p>Note that notifications are not provided to <a href="struct.RequestsSubscriptions.html#method.next_response" title="method smoldot::json_rpc::requests_subscriptions::RequestsSubscriptions::next_response"><code>RequestsSubscriptions::next_response</code></a>
in the order of their index, but in the order in which they entered the queue. If there
was no notification overwritten, then this notification is now at the end of the list
of notifications to send back. If a notification is overwritten, then only its content
is modified but not its position in the queue.</p>
<p>This function isn’t meant to interact well with
<a href="struct.RequestsSubscriptions.html#method.try_push_notification" title="method smoldot::json_rpc::requests_subscriptions::RequestsSubscriptions::try_push_notification"><code>RequestsSubscriptions::try_push_notification</code></a>. For each subscription, you are expected
to either push notifications one behind the other, or track which notification queue index
corresponds to what, but not both at the same time.</p>
<p>Has no effect if the <a href="struct.ClientId.html" title="struct smoldot::json_rpc::requests_subscriptions::ClientId"><code>ClientId</code></a> or <a href="struct.RequestId.html" title="struct smoldot::json_rpc::requests_subscriptions::RequestId"><code>RequestId</code></a> is stale or invalid.</p>
<h5 id="panic"><a href="#panic">Panic</a></h5>
<p>Panics if the <code>index</code> is superior or equal to the <code>messages_capacity</code> that was passed to
<a href="struct.RequestsSubscriptions.html#method.start_subscription" title="method smoldot::json_rpc::requests_subscriptions::RequestsSubscriptions::start_subscription"><code>RequestsSubscriptions::start_subscription</code></a>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.push_notification" class="method"><a class="srclink rightside" href="../../../src/smoldot/json_rpc/requests_subscriptions.rs.html#943-953">source</a><h4 class="code-header">pub async fn <a href="#method.push_notification" class="fn">push_notification</a>&lt;'a&gt;(
    &amp;self,
    client: impl <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="enum" href="enum.ClientOrRequestIdRef.html" title="enum smoldot::json_rpc::requests_subscriptions::ClientOrRequestIdRef">ClientOrRequestIdRef</a>&lt;'a&gt;&gt;,
    subscription: &amp;<a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.str.html">str</a>,
    message: <a class="struct" href="https://doc.rust-lang.org/1.70.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>
)</h4></section></summary><div class="docblock"><p>Adds the given notification to the queue of notifications to send out for this
subscription.</p>
<p>This function will choose an index with no notification, and write the notification to it.
If the queue is full, this function will wait for a slot to be available. Slots will only
become available if <a href="struct.RequestsSubscriptions.html#method.next_response" title="method smoldot::json_rpc::requests_subscriptions::RequestsSubscriptions::next_response"><code>RequestsSubscriptions::next_response</code></a> is called in parallel.</p>
<p>This function isn’t meant to interact well with
<a href="struct.RequestsSubscriptions.html#method.set_queued_notification" title="method smoldot::json_rpc::requests_subscriptions::RequestsSubscriptions::set_queued_notification"><code>RequestsSubscriptions::set_queued_notification</code></a>. For each subscription, you are expected
to either push notifications one behind the other, or track which notification queue index
corresponds to what, but not both at the same time.</p>
<p>Has no effect and silently discards the message if the <a href="struct.ClientId.html" title="struct smoldot::json_rpc::requests_subscriptions::ClientId"><code>ClientId</code></a> or <a href="struct.RequestId.html" title="struct smoldot::json_rpc::requests_subscriptions::RequestId"><code>RequestId</code></a> is
stale or invalid.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.try_push_notification" class="method"><a class="srclink rightside" href="../../../src/smoldot/json_rpc/requests_subscriptions.rs.html#971-979">source</a><h4 class="code-header">pub async fn <a href="#method.try_push_notification" class="fn">try_push_notification</a>&lt;'a&gt;(
    &amp;self,
    client: impl <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="enum" href="enum.ClientOrRequestIdRef.html" title="enum smoldot::json_rpc::requests_subscriptions::ClientOrRequestIdRef">ClientOrRequestIdRef</a>&lt;'a&gt;&gt;,
    subscription: &amp;<a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.str.html">str</a>,
    message: <a class="struct" href="https://doc.rust-lang.org/1.70.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.70.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.unit.html">()</a>, <a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Adds the given notification to the queue of notifications to send out for this
subscription.</p>
<p>This function will choose an index with no notification, and write the notification to it.
Returns an error if the queue is full.</p>
<p>This function isn’t meant to interact well with
<a href="struct.RequestsSubscriptions.html#method.set_queued_notification" title="method smoldot::json_rpc::requests_subscriptions::RequestsSubscriptions::set_queued_notification"><code>RequestsSubscriptions::set_queued_notification</code></a>. For each subscription, you are expected
to either push notifications one behind the other, or track which notification queue index
corresponds to what, but not both at the same time.</p>
<p>Note that notifications are not provided to <a href="struct.RequestsSubscriptions.html#method.next_response" title="method smoldot::json_rpc::requests_subscriptions::RequestsSubscriptions::next_response"><code>RequestsSubscriptions::next_response</code></a>
in the order of their index, but in the order in which they entered the queue.</p>
<p>Returns <code>Ok</code> and silently discards the message if the <a href="struct.ClientId.html" title="struct smoldot::json_rpc::requests_subscriptions::ClientId"><code>ClientId</code></a> or <a href="struct.RequestId.html" title="struct smoldot::json_rpc::requests_subscriptions::RequestId"><code>RequestId</code></a> is
stale or invalid.</p>
</div></details></div></details></div><h2 id="synthetic-implementations" class="small-section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor">§</a></h2><div id="synthetic-implementations-list"><section id="impl-RefUnwindSafe-for-RequestsSubscriptions%3CTSubMsg%3E" class="impl"><a href="#impl-RefUnwindSafe-for-RequestsSubscriptions%3CTSubMsg%3E" class="anchor">§</a><h3 class="code-header">impl&lt;TSubMsg&gt; !<a class="trait" href="https://doc.rust-lang.org/1.70.0/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="struct.RequestsSubscriptions.html" title="struct smoldot::json_rpc::requests_subscriptions::RequestsSubscriptions">RequestsSubscriptions</a>&lt;TSubMsg&gt;</h3></section><section id="impl-Send-for-RequestsSubscriptions%3CTSubMsg%3E" class="impl"><a href="#impl-Send-for-RequestsSubscriptions%3CTSubMsg%3E" class="anchor">§</a><h3 class="code-header">impl&lt;TSubMsg&gt; <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="struct.RequestsSubscriptions.html" title="struct smoldot::json_rpc::requests_subscriptions::RequestsSubscriptions">RequestsSubscriptions</a>&lt;TSubMsg&gt;<span class="where fmt-newline">where
    TSubMsg: <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>,</span></h3></section><section id="impl-Sync-for-RequestsSubscriptions%3CTSubMsg%3E" class="impl"><a href="#impl-Sync-for-RequestsSubscriptions%3CTSubMsg%3E" class="anchor">§</a><h3 class="code-header">impl&lt;TSubMsg&gt; <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="struct.RequestsSubscriptions.html" title="struct smoldot::json_rpc::requests_subscriptions::RequestsSubscriptions">RequestsSubscriptions</a>&lt;TSubMsg&gt;<span class="where fmt-newline">where
    TSubMsg: <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>,</span></h3></section><section id="impl-Unpin-for-RequestsSubscriptions%3CTSubMsg%3E" class="impl"><a href="#impl-Unpin-for-RequestsSubscriptions%3CTSubMsg%3E" class="anchor">§</a><h3 class="code-header">impl&lt;TSubMsg&gt; <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> for <a class="struct" href="struct.RequestsSubscriptions.html" title="struct smoldot::json_rpc::requests_subscriptions::RequestsSubscriptions">RequestsSubscriptions</a>&lt;TSubMsg&gt;</h3></section><section id="impl-UnwindSafe-for-RequestsSubscriptions%3CTSubMsg%3E" class="impl"><a href="#impl-UnwindSafe-for-RequestsSubscriptions%3CTSubMsg%3E" class="anchor">§</a><h3 class="code-header">impl&lt;TSubMsg&gt; !<a class="trait" href="https://doc.rust-lang.org/1.70.0/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a> for <a class="struct" href="struct.RequestsSubscriptions.html" title="struct smoldot::json_rpc::requests_subscriptions::RequestsSubscriptions">RequestsSubscriptions</a>&lt;TSubMsg&gt;</h3></section></div><h2 id="blanket-implementations" class="small-section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor">§</a></h2><div id="blanket-implementations-list"><details class="toggle implementors-toggle"><summary><section id="impl-Any-for-RequestsSubscriptions%3CTSubMsg%3E" class="impl"><a class="srclink rightside" href="https://doc.rust-lang.org/1.70.0/src/core/any.rs.html#200">source</a><a href="#impl-Any-for-RequestsSubscriptions%3CTSubMsg%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/any/trait.Any.html" title="trait core::any::Any">Any</a> for T<span class="where fmt-newline">where
    T: 'static + ?<a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</span></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.type_id" class="method trait-impl"><a class="srclink rightside" href="https://doc.rust-lang.org/1.70.0/src/core/any.rs.html#201">source</a><a href="#method.type_id" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.70.0/core/any/trait.Any.html#tymethod.type_id" class="fn">type_id</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.70.0/core/any/struct.TypeId.html" title="struct core::any::TypeId">TypeId</a></h4></section></summary><div class='docblock'>Gets the <code>TypeId</code> of <code>self</code>. <a href="https://doc.rust-lang.org/1.70.0/core/any/trait.Any.html#tymethod.type_id">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Borrow%3CT%3E-for-RequestsSubscriptions%3CTSubMsg%3E" class="impl"><a class="srclink rightside" href="https://doc.rust-lang.org/1.70.0/src/core/borrow.rs.html#211">source</a><a href="#impl-Borrow%3CT%3E-for-RequestsSubscriptions%3CTSubMsg%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;T&gt; for T<span class="where fmt-newline">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</span></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow" class="method trait-impl"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/91522" title="Tracking issue for const_borrow">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/1.70.0/src/core/borrow.rs.html#213">source</a></span><a href="#method.borrow" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.70.0/core/borrow/trait.Borrow.html#tymethod.borrow" class="fn">borrow</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.reference.html">&amp;T</a></h4></section></summary><div class='docblock'>Immutably borrows from an owned value. <a href="https://doc.rust-lang.org/1.70.0/core/borrow/trait.Borrow.html#tymethod.borrow">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-BorrowMut%3CT%3E-for-RequestsSubscriptions%3CTSubMsg%3E" class="impl"><a class="srclink rightside" href="https://doc.rust-lang.org/1.70.0/src/core/borrow.rs.html#220">source</a><a href="#impl-BorrowMut%3CT%3E-for-RequestsSubscriptions%3CTSubMsg%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/borrow/trait.BorrowMut.html" title="trait core::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T<span class="where fmt-newline">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</span></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow_mut" class="method trait-impl"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/91522" title="Tracking issue for const_borrow">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/1.70.0/src/core/borrow.rs.html#221">source</a></span><a href="#method.borrow_mut" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.70.0/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut" class="fn">borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.reference.html">&amp;mut T</a></h4></section></summary><div class='docblock'>Mutably borrows from an owned value. <a href="https://doc.rust-lang.org/1.70.0/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Downcast-for-RequestsSubscriptions%3CTSubMsg%3E" class="impl"><a href="#impl-Downcast-for-RequestsSubscriptions%3CTSubMsg%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; Downcast for T<span class="where fmt-newline">where
    T: <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/any/trait.Any.html" title="trait core::any::Any">Any</a>,</span></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.into_any" class="method trait-impl"><a href="#method.into_any" class="anchor">§</a><h4 class="code-header">fn <a class="fn">into_any</a>(self: <a class="struct" href="https://doc.rust-lang.org/1.70.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;T, <a class="struct" href="https://doc.rust-lang.org/1.70.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.70.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/any/trait.Any.html" title="trait core::any::Any">Any</a> + 'static, <a class="struct" href="https://doc.rust-lang.org/1.70.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;</h4></section></summary><div class='docblock'>Convert <code>Box&lt;dyn Trait&gt;</code> (where <code>Trait: Downcast</code>) to <code>Box&lt;dyn Any&gt;</code>. <code>Box&lt;dyn Any&gt;</code> can
then be further <code>downcast</code> into <code>Box&lt;ConcreteType&gt;</code> where <code>ConcreteType</code> implements <code>Trait</code>.</div></details><details class="toggle method-toggle" open><summary><section id="method.into_any_rc" class="method trait-impl"><a href="#method.into_any_rc" class="anchor">§</a><h4 class="code-header">fn <a class="fn">into_any_rc</a>(self: <a class="struct" href="https://doc.rust-lang.org/1.70.0/alloc/rc/struct.Rc.html" title="struct alloc::rc::Rc">Rc</a>&lt;T&gt;) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.70.0/alloc/rc/struct.Rc.html" title="struct alloc::rc::Rc">Rc</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/any/trait.Any.html" title="trait core::any::Any">Any</a> + 'static&gt;</h4></section></summary><div class='docblock'>Convert <code>Rc&lt;Trait&gt;</code> (where <code>Trait: Downcast</code>) to <code>Rc&lt;Any&gt;</code>. <code>Rc&lt;Any&gt;</code> can then be
further <code>downcast</code> into <code>Rc&lt;ConcreteType&gt;</code> where <code>ConcreteType</code> implements <code>Trait</code>.</div></details><details class="toggle method-toggle" open><summary><section id="method.as_any" class="method trait-impl"><a href="#method.as_any" class="anchor">§</a><h4 class="code-header">fn <a class="fn">as_any</a>(&amp;self) -&gt; &amp;(dyn <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/any/trait.Any.html" title="trait core::any::Any">Any</a> + 'static)</h4></section></summary><div class='docblock'>Convert <code>&amp;Trait</code> (where <code>Trait: Downcast</code>) to <code>&amp;Any</code>. This is needed since Rust cannot
generate <code>&amp;Any</code>’s vtable from <code>&amp;Trait</code>’s.</div></details><details class="toggle method-toggle" open><summary><section id="method.as_any_mut" class="method trait-impl"><a href="#method.as_any_mut" class="anchor">§</a><h4 class="code-header">fn <a class="fn">as_any_mut</a>(&amp;mut self) -&gt; &amp;mut (dyn <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/any/trait.Any.html" title="trait core::any::Any">Any</a> + 'static)</h4></section></summary><div class='docblock'>Convert <code>&amp;mut Trait</code> (where <code>Trait: Downcast</code>) to <code>&amp;Any</code>. This is needed since Rust cannot
generate <code>&amp;mut Any</code>’s vtable from <code>&amp;mut Trait</code>’s.</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-DowncastSync-for-RequestsSubscriptions%3CTSubMsg%3E" class="impl"><a href="#impl-DowncastSync-for-RequestsSubscriptions%3CTSubMsg%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; DowncastSync for T<span class="where fmt-newline">where
    T: <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/any/trait.Any.html" title="trait core::any::Any">Any</a> + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>,</span></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.into_any_arc" class="method trait-impl"><a href="#method.into_any_arc" class="anchor">§</a><h4 class="code-header">fn <a class="fn">into_any_arc</a>(self: <a class="struct" href="https://doc.rust-lang.org/1.70.0/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;T&gt;) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.70.0/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/any/trait.Any.html" title="trait core::any::Any">Any</a> + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'static&gt;</h4></section></summary><div class='docblock'>Convert <code>Arc&lt;Trait&gt;</code> (where <code>Trait: Downcast</code>) to <code>Arc&lt;Any&gt;</code>. <code>Arc&lt;Any&gt;</code> can then be
further <code>downcast</code> into <code>Arc&lt;ConcreteType&gt;</code> where <code>ConcreteType</code> implements <code>Trait</code>.</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-From%3CT%3E-for-RequestsSubscriptions%3CTSubMsg%3E" class="impl"><a class="srclink rightside" href="https://doc.rust-lang.org/1.70.0/src/core/convert/mod.rs.html#734">source</a><a href="#impl-From%3CT%3E-for-RequestsSubscriptions%3CTSubMsg%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for T</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.from" class="method trait-impl"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/1.70.0/src/core/convert/mod.rs.html#737">source</a></span><a href="#method.from" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.70.0/core/convert/trait.From.html#tymethod.from" class="fn">from</a>(t: T) -&gt; T</h4></section></summary><div class="docblock"><p>Returns the argument unchanged.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Into%3CU%3E-for-RequestsSubscriptions%3CTSubMsg%3E" class="impl"><a class="srclink rightside" href="https://doc.rust-lang.org/1.70.0/src/core/convert/mod.rs.html#717">source</a><a href="#impl-Into%3CU%3E-for-RequestsSubscriptions%3CTSubMsg%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;U&gt; for T<span class="where fmt-newline">where
    U: <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt;,</span></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.into" class="method trait-impl"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/1.70.0/src/core/convert/mod.rs.html#726">source</a></span><a href="#method.into" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.70.0/core/convert/trait.Into.html#tymethod.into" class="fn">into</a>(self) -&gt; U</h4></section></summary><div class="docblock"><p>Calls <code>U::from(self)</code>.</p>
<p>That is, this conversion is whatever the implementation of
<code><a href="https://doc.rust-lang.org/1.70.0/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for U</code> chooses to do.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Same%3CT%3E-for-RequestsSubscriptions%3CTSubMsg%3E" class="impl"><a class="srclink rightside" href="https://docs.rs/typenum/1.16.0/src/typenum/type_operators.rs.html#34">source</a><a href="#impl-Same%3CT%3E-for-RequestsSubscriptions%3CTSubMsg%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://docs.rs/typenum/1.16.0/typenum/type_operators/trait.Same.html" title="trait typenum::type_operators::Same">Same</a>&lt;T&gt; for T</h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Output" class="associatedtype trait-impl"><a href="#associatedtype.Output" class="anchor">§</a><h4 class="code-header">type <a href="https://docs.rs/typenum/1.16.0/typenum/type_operators/trait.Same.html#associatedtype.Output" class="associatedtype">Output</a> = T</h4></section></summary><div class='docblock'>Should always be <code>Self</code></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryFrom%3CU%3E-for-RequestsSubscriptions%3CTSubMsg%3E" class="impl"><a class="srclink rightside" href="https://doc.rust-lang.org/1.70.0/src/core/convert/mod.rs.html#777">source</a><a href="#impl-TryFrom%3CU%3E-for-RequestsSubscriptions%3CTSubMsg%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt; for T<span class="where fmt-newline">where
    U: <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;T&gt;,</span></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error" class="associatedtype trait-impl"><a href="#associatedtype.Error" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.70.0/core/convert/trait.TryFrom.html#associatedtype.Error" class="associatedtype">Error</a> = <a class="enum" href="https://doc.rust-lang.org/1.70.0/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_from" class="method trait-impl"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/1.70.0/src/core/convert/mod.rs.html#784">source</a></span><a href="#method.try_from" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.70.0/core/convert/trait.TryFrom.html#tymethod.try_from" class="fn">try_from</a>(value: U) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.70.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, &lt;T as <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.70.0/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryInto%3CU%3E-for-RequestsSubscriptions%3CTSubMsg%3E" class="impl"><a class="srclink rightside" href="https://doc.rust-lang.org/1.70.0/src/core/convert/mod.rs.html#761">source</a><a href="#impl-TryInto%3CU%3E-for-RequestsSubscriptions%3CTSubMsg%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/convert/trait.TryInto.html" title="trait core::convert::TryInto">TryInto</a>&lt;U&gt; for T<span class="where fmt-newline">where
    U: <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;,</span></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error-1" class="associatedtype trait-impl"><a href="#associatedtype.Error-1" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.70.0/core/convert/trait.TryInto.html#associatedtype.Error" class="associatedtype">Error</a> = &lt;U as <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.70.0/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_into" class="method trait-impl"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/1.70.0/src/core/convert/mod.rs.html#768">source</a></span><a href="#method.try_into" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.70.0/core/convert/trait.TryInto.html#tymethod.try_into" class="fn">try_into</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.70.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;U, &lt;U as <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.70.0/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-VZip%3CV%3E-for-RequestsSubscriptions%3CTSubMsg%3E" class="impl"><a href="#impl-VZip%3CV%3E-for-RequestsSubscriptions%3CTSubMsg%3E" class="anchor">§</a><h3 class="code-header">impl&lt;V, T&gt; VZip&lt;V&gt; for T<span class="where fmt-newline">where
    V: MultiLane&lt;T&gt;,</span></h3></section></summary><div class="impl-items"><section id="method.vzip" class="method trait-impl"><a href="#method.vzip" class="anchor">§</a><h4 class="code-header">fn <a class="fn">vzip</a>(self) -&gt; V</h4></section></div></details></div></section></div></main></body></html>