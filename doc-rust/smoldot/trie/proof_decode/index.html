<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Decodes and verifies a trie proof."><title>smoldot::trie::proof_decode - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../static.files/rustdoc-ba5701c5741a7b69.css" id="mainThemeStyle"><div id="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="smoldot" data-themes="" data-resource-suffix="" data-rustdoc-version="1.70.0 (90c541806 2023-05-31)" data-search-js="search-e077946657036a58.js" data-settings-js="settings-298e1ea74db45b39.js" data-settings-css="settings-7bfb4c59cc6bc502.css" data-theme-light-css="light-0f8c037637f9eb3e.css" data-theme-dark-css="dark-1097f8e92a01e3cf.css" data-theme-ayu-css="ayu-614652228113ac93.css" ></div><script src="../../../static.files/storage-62ce34ea385b278a.js"></script><script defer src="../../../static.files/main-f61008743c98d196.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../../../static.files/light-0f8c037637f9eb3e.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../../../static.files/dark-1097f8e92a01e3cf.css"><link rel="stylesheet" href="../../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../../smoldot/index.html"><img class="rust-logo" src="../../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../../../smoldot/index.html"><img class="rust-logo" src="../../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Module proof_decode</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#functions">Functions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../../index.html">smoldot</a>::<wbr><a href="../index.html">trie</a>::<wbr><a class="mod" href="#">proof_decode</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../../src/smoldot/trie/proof_decode.rs.html#18-1445">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Decodes and verifies a trie proof.</p>
<p>A trie proof is a proof that a certain key in the trie has a certain storage value (or lacks
a storage value). The proof can be verified by knowing only the Merkle value of the root node.</p>
<h2 id="details"><a href="#details">Details</a></h2>
<blockquote>
<p><strong>Note</strong>: For reminder, the Merkle value of a node is the hash of its node value, or the
node value directly if its length is smaller than 32 bytes.</p>
</blockquote>
<p>A trie proof consists in a list of node values of nodes in the trie. For the proof to be valid,
the hash of one of these node values must match the expected trie root node value. Since a
node value contains the Merkle values of the children of the node, it is possible to iterate
down the hierarchy of nodes until the one closest to the desired key is found.</p>
<h2 id="usage"><a href="#usage">Usage</a></h2>
<p>This modules provides the <a href="fn.decode_and_verify_proof.html" title="fn smoldot::trie::proof_decode::decode_and_verify_proof"><code>decode_and_verify_proof</code></a> function that decodes a proof and
verifies whether it is correct.</p>
<p>Once decoded, one can examine the content of the proof, in other words the list of storage
items and values.</p>
</div></details><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.Children.html" title="struct smoldot::trie::proof_decode::Children">Children</a></div><div class="desc docblock-short">See <a href="struct.TrieNodeInfo.html#structfield.children" title="field smoldot::trie::proof_decode::TrieNodeInfo::children"><code>TrieNodeInfo::children</code></a>.</div></li><li><div class="item-name"><a class="struct" href="struct.Config.html" title="struct smoldot::trie::proof_decode::Config">Config</a></div><div class="desc docblock-short">Configuration to pass to <a href="fn.decode_and_verify_proof.html" title="fn smoldot::trie::proof_decode::decode_and_verify_proof"><code>decode_and_verify_proof</code></a>.</div></li><li><div class="item-name"><a class="struct" href="struct.DecodedTrieProof.html" title="struct smoldot::trie::proof_decode::DecodedTrieProof">DecodedTrieProof</a></div><div class="desc docblock-short">Decoded Merkle proof. The proof is guaranteed valid.</div></li><li><div class="item-name"><a class="struct" href="struct.EntryKey.html" title="struct smoldot::trie::proof_decode::EntryKey">EntryKey</a></div><div class="desc docblock-short">Identifier for an entry within a decoded proof.</div></li><li><div class="item-name"><a class="struct" href="struct.IncompleteProofError.html" title="struct smoldot::trie::proof_decode::IncompleteProofError">IncompleteProofError</a></div><div class="desc docblock-short">Proof doesn’t contain enough information to answer the request.</div></li><li><div class="item-name"><a class="struct" href="struct.ProofEntry.html" title="struct smoldot::trie::proof_decode::ProofEntry">ProofEntry</a></div><div class="desc docblock-short">Information about an entry in the proof.</div></li><li><div class="item-name"><a class="struct" href="struct.TrieNodeInfo.html" title="struct smoldot::trie::proof_decode::TrieNodeInfo">TrieNodeInfo</a></div><div class="desc docblock-short">Information about a node of the trie.</div></li></ul><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.Child.html" title="enum smoldot::trie::proof_decode::Child">Child</a></div><div class="desc docblock-short">Information about a specific child in the list of children.</div></li><li><div class="item-name"><a class="enum" href="enum.Error.html" title="enum smoldot::trie::proof_decode::Error">Error</a></div><div class="desc docblock-short">Possible error returned by <a href="fn.decode_and_verify_proof.html" title="fn smoldot::trie::proof_decode::decode_and_verify_proof"><code>decode_and_verify_proof</code></a>.</div></li><li><div class="item-name"><a class="enum" href="enum.StorageValue.html" title="enum smoldot::trie::proof_decode::StorageValue">StorageValue</a></div><div class="desc docblock-short">Storage value of the node.</div></li></ul><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.decode_and_verify_proof.html" title="fn smoldot::trie::proof_decode::decode_and_verify_proof">decode_and_verify_proof</a></div><div class="desc docblock-short">Verifies whether a proof is correct and returns an object that allows examining its content.</div></li></ul></section></div></main></body></html>